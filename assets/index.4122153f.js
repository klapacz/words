import{c as b,a as h,b as C,d as g,j as M,e as z,r as e,L as W,u as d,f as S,g as D,S as U,R as E,h as B,P as k,B as A}from"./vendor.70991f86.js";const F=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};F();var N=[{name:"German",items:[{name:"Zuerst",url:"/api/de/1.json"},{name:"8 Beruf und Arbeit",url:"/api/de/8-beruf-und-arbeit.json"},{name:"Test",url:"/api/de/t.json"}]},{name:"English",items:[{name:"Unit 1",url:"/api/en/1.json"},{name:"Unit 2",url:"/api/en/2.json"},{name:"Unit 6",url:"/api/en/6.json"},{name:"Bank s\u0142\xF3w",url:"/api/en/7.json"}]}];const w=o=>encodeURI(o.replace(/ /g,"-").toLowerCase()),y=o=>o.menu.menu,O=(o,t)=>b([y],n=>{for(const s of n)if(w(s.name)===o){for(const r of s.items)if(w(r.name)===t)return{category:s,wordSetMenuData:r};return null}return null}),P={menu:N},$=h({name:"menu",initialState:P,reducers:{}});var I=$.reducer;const v={BASE_URL:"/words/"},x=C("wordSets/fetch",async o=>{const n=await(await fetch(M(v.BASE_URL,o))).json();return[o,n.words]}),R=g("wordSets/setWordDone"),j=g("wordSets/setCurrentWordFailed "),T=o=>t=>t.wordSets.wordSets[o],_=o=>t=>{const n=t.wordSets.wordSets[o].session;return n.words[n.current]},J=o=>t=>{const n=t.wordSets.wordSets[o];return[n.words.length-n.session.words.length,n.words.length]},Z={wordSets:JSON.parse(window.localStorage.getItem("wordSets")||"{}")},q=h({name:"wordSets",initialState:Z,reducers:{},extraReducers:o=>{o.addCase(R,(t,n)=>{const s=n.payload,r=t.wordSets[s].session,{failed:a}=r.words[r.current];if(!a||a===1){r.words=r.words.filter((i,m)=>m!==r.current);const c=t.wordSets[s].session.words.length-1,u=Math.floor(Math.random()*Math.floor(c));r.current=u;return}const l=r.words[r.current];l.failed&&(l.failed=l.failed-1)}).addCase(j,(t,n)=>{const s=n.payload,r=t.wordSets[s].session;r.words[r.current].failed||(t.wordSets[s].session.words[r.current].failed=3)}).addCase(x.fulfilled,(t,n)=>{const[s,r]=n.payload,a=Object.entries(r).map(([u,i])=>({original:u,translation:i})),l=Math.floor(Math.random()*Math.floor(a.length-1)),c={words:a,session:{words:[...a],current:l}};t.wordSets[s]=c})}});var G=q.reducer;const f=z({reducer:{menu:I,wordSets:G}});f.subscribe(()=>{window.localStorage.setItem("wordSets",JSON.stringify(f.getState().wordSets.wordSets))});const H=({category:o})=>e.exports.createElement("li",null,o.name,e.exports.createElement("ol",null,o.items.map(t=>e.exports.createElement("li",{key:t.name},e.exports.createElement(W,{to:w(`/${o.name}/${t.name}`)},t.name))))),K=()=>{const o=d(y);return e.exports.createElement("nav",null,e.exports.createElement("ul",null,o.map(t=>e.exports.createElement(H,{category:t,key:t.name}))))},Q=()=>e.exports.createElement(K,null),L=({url:o})=>{const t=S();return e.exports.createElement("button",{onClick:()=>t(x(o))},"Resetuj")},V=({pageData:o})=>{const{wordSetMenuData:t,category:n}=o,{url:s}=t,r=S(),a=d(_(s)),[l,c]=d(J(s)),[u,i]=e.exports.useState(""),m=p=>{p.preventDefault(),u.trim().toLowerCase()===a.original.trim().toLowerCase()?r(R(s)):r(j(s)),i("")};return e.exports.createElement("div",null,e.exports.createElement("header",null,e.exports.createElement("nav",null,e.exports.createElement("ol",null,e.exports.createElement("li",null,n.name),e.exports.createElement("li",null,t.name),e.exports.createElement("li",{title:`uko\u0144czono ${l}/${c}`},l,"/",c))),e.exports.createElement(L,{url:s})),e.exports.createElement("div",null,e.exports.createElement("h1",null,a.translation),a.failed&&e.exports.createElement("div",null,"B\u0142\u0105d! Poprawne t\u0142umaczenie to ",e.exports.createElement("span",null,a.original)," Wpisz je jeszcze"," ",e.exports.createElement("b",null,a.failed)," razy."),e.exports.createElement("form",{onSubmit:m},e.exports.createElement("input",{id:"to-translate",value:u,placeholder:"Poprawne t\u0142umaczenie",autoFocus:!0,autoComplete:"off",onChange:({target:p})=>i(p.value)}))))},X=({pageData:o})=>{const{wordSetMenuData:t}=o,n=S(),s=d(T(t.url));return e.exports.useEffect(()=>{s||n(x(t.url))},[n,t,s]),e.exports.createElement("div",null,s?s.session.words.length?e.exports.createElement(V,{pageData:o}):e.exports.createElement("div",null,e.exports.createElement(L,{url:t.url}),e.exports.createElement("div",null,e.exports.createElement("p",null,"Zestaw s\u0142\xF3wek uko\u0144czony"))):"\u0141adowanie\u2026")},Y=()=>{const{category:o,wordSet:t}=D(),n=d(O(o,t));return n?e.exports.createElement(X,{pageData:n}):e.exports.createElement("main",null,"404")},ee=()=>e.exports.createElement(U,null,e.exports.createElement(E,{exact:!0,path:"/"},e.exports.createElement(Q,null)),e.exports.createElement(E,{path:"/:category/:wordSet"},e.exports.createElement(Y,null)));B.exports.render(e.exports.createElement(e.exports.StrictMode,null,e.exports.createElement(k,{store:f},e.exports.createElement(A,{basename:v.BASE_URL},e.exports.createElement(ee,null)))),document.getElementById("root"));
